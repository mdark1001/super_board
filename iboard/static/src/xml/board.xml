<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">
  <t t-name="iboard.Board" owl="1">
      <div class="">
          <link rel="preconnect" href="https://fonts.googleapis.com"/>
          <link rel="preconnect" href="https://fonts.gstatic.com"/>
          <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&amp;display=swap"
                rel="stylesheet"/>
          <link href="/iboard/static/src/css/board.css" rel="stylesheet"/>
          <link href="/iboard/static/src/css/dashboard_gridstack.css" rel="stylesheet"/>

          <div class="o_control_panel">
              <div class="row">
                  <div class="col-sm-6 col-xs-12">
                                <span id="ks_dashboard_title_label" class="ks_am_element">
                                    <t t-out="state.boardName"/>
                                </span>
                  </div>
                  <div class="col-sm-6 col-xs-12">
                        <t t-call="iboard.BoardHeaderOptions"/>
                  </div>
          </div>
       </div>
          <div class="iboard-body">
              <div class="grid-stack">
                    <FactoryChart
                            t-foreach="state.charts"
                            t-as="chart"
                            t-key="chart.id"
                            chart="chart"
                            layout="state.gridConfig"
                            colors="state.colors"
                            t-on-resize_chart="resize_chart"

                    />
              </div>
        </div>
      </div>
  </t>
    <t t-name="iboard.ChartFactory" owl="1">
        <t t-component="getChart"
           t-props="props"
        />


</t>
    <t t-name="iboard.BoardHeaderOptions" owl="1">
     <div class="">
              <button type="button"
                      class="btn btn-outline-primary btn-sm float-right ml-2"
                      t-att-class="state.staticGrid ? '':'d-none'"
                      t-on-click="editLayout">
                <i class="fa fa-edit"/>
                  Editar layout
            </button>
         <button type="button"
                 class="btn btn-outline-info btn-sm float-right ml-2"
                 t-att-class="state.staticGrid ? '':'d-none'"
                 t-on-click="addChart">
                <i class="fa fa-area-chart"/>
             Agregar gr√°fica
            </button>
         <button type="button"
                 class="btn btn-outline-secondary btn-sm float-right"
                 t-att-class="state.staticGrid ? 'd-none':''"
                 t-on-click="(ev)=>this.editLayoutSave(ev)">
                    <i class="fa fa-edit"/>
             Guardar layout
         </button>

     </div>
    </t>

    <t t-name="iboard.FactoryChar" owl="1">
               <div class="grid-stack-item"
                    t-att-gs-h="props.chart.config.gsHeight"
                    t-att-gs-w="props.chart.config.gsWidth"
                    t-att-gs-min-h="props.chart.config.gsMinHeight"
                    t-att-gs-min-w="props.chart.config.gsMinWidth"
                    t-att-gs-max-h="props.chart.config.gsMaxHeight"
                    t-att-id="props.chart.id"
                    t-att-gs-x="props.layout[props.chart.id].x"
                    t-att-gs-y="props.layout[props.chart.id].y"
               >
        <div class="iboard_kanban iboard_base grid-stack-item-content">

            <div class="oe_kanban_card oe_kanban_global_click o_kanban_record ">
                <div class="row">
                    <div class="col-1">
                      <t t-call="iboard.MenuContainer"/>
                    </div>
                    <div class="col-10">
                    <h4 class="o_kanban_record_title p-1 indicator-card-title">
                                <span>
                                    <t t-esc="props.chart.title"/>
                                </span>
                        </h4>
                    </div>
                </div>
                <div class="row">
                <div class="col-12 ml-1" t-attf-id="chart_body_{{props.chart.id}}">
                </div>
                    <div class="w-100"
                         t-attf-id="content_{{props.chart.id}}"
                         t-ref="element"
                    >
                </div>
            </div>
        </div>
        </div>
        </div>
    </t>


    <t t-name="GenericContainerBaseChart" owl="1">
          <div class="grid-stack-item"
               t-on-resize_chart="resize_chart"
               t-att-gs-h="props.slots.chart.config.gsMinHeight"
               t-att-gs-w="props.slots.chart.config.gsMinWidth"
               t-att-gs-min-h="2"
               t-att-gs-min-w="2"
               t-att-id="props.slots.chart.id"
               t-att-gs-x="props.slots.layout[props.slots.chart.id].x"
               t-att-gs-y="props.slots.layout[props.slots.chart.id].y"
          >
        <div class="iboard_kanban  iboard_base grid-stack-item-content">

            <div class="oe_kanban_card oe_kanban_global_click o_kanban_record ">
                <div class="row">
                    <div class="col-1">
                      <t t-call="iboard.MenuContainer"/>
                    </div>
                    <div class="col-10">
                    <h4 class="o_kanban_record_title p-1 indicator-card-title">
                                <span>
                                    <t t-esc="props.slots.chart.title"/>
                                </span>
                        </h4>
                    </div>
                </div>
                <div class="row">
                <div class="col-12 ml-1" t-attf-id="chart_body_{{props.slots.chart.id}}">
                </div>
                    <div class="w-100" t-attf-id="content_{{props.slots.chart.id}}">
                        <t t-slot="content"/>
                </div>
            </div>
        </div>
        </div>
        </div>
    </t>


    <t t-name="iboard.MenuContainer" owl="1">
    <div class="dropdown" modifiers="{}">
        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="fa fa-ellipsis-v" modifiers="{}"></span>
    </button>
        <ul class="dropdown-menu">
            <li>
                <button class="dropdown-item" type="button"
                        t-on-click="editChart">
                Editar
            </button>
            </li>
            <!-- <li><button class="dropdown-item" type="button">Another action</button></li>
             <li><button class="dropdown-item" type="button">Something else here</button></li>-->
        </ul>
    </div>
</t>


</templates>