<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="iboard_chart_view_form" model="ir.ui.view">
            <field name="name">iboard_chart_view_form</field>
            <field name="model">iboard.chart</field>
            <field name="arch" type="xml">
                <form string="iboard_chart_form">
                    <sheet>
                        <div class="oe_title">
                            <label for="title" class="oe_edit_only"/>
                            <h1>
                                <field name="title" placeholder="Nombre del indicador"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="board_id" readonly="0"
                                       options="{'no_create':True,'no_create_edit':True}"
                                />
                                <field name="chart_type"/>
                            </group>
                            <group>
                                <field name="preview"
                                       attrs="{'invisible':[('chart_type','=','text')]}"
                                />
                            </group>

                        </group>
                        <notebook>
                            <page name="page_description" string="Descripción">
                                <field name="description"/>
                            </page>
                            <page name="page_chart_config" string="Configuración"
                                  attrs="{'invisible':[('chart_type','=','text')]}"
                            >
                                <group>
                                    <group string="Origen de los datos" name="origin_group">
                                        <field name="model_field_group_1_ttype" invisible="0"/>
                                        <field name="model_field_group_2_ttype" invisible="0"/>
                                        <field name="model_id_1"/>
                                        <field name="model_name_1"
                                               invisible="1"
                                        />
                                        <field name="operation_model_1"/>
                                        <field name="model_field_1"
                                               attrs="{'invisible':[('operation_model_1','in',('count',))]}"
                                        />
                                        <field name="model_field_group_by_1"
                                               attrs="{'invisible':[('chart_type','in',('title',))]}"
                                        />
                                        <field name="model_field_1_date_agg"
                                               attrs="{'invisible':[('model_field_group_1_ttype','not in',('date','datetime'))]}"
                                        />

                                        <field name="model_field_group_by_2"
                                               attrs="{'invisible':[('chart_type','in',('title',))]}"
                                        />

                                    </group>
                                    <group string="Opciones" name="opt_group">
                                        <field name="order_by"/>
                                        <field name="limit"
                                               attrs="{'invisible':[('chart_type','=','title')]}"
                                        />
                                    </group>
                                </group>
                                <group string="Filtro">
                                    <field name="domain_model_1"
                                           widget="domain"
                                           context="{'current_id': id}"
                                           options="{'model': 'model_name_1', 'in_dialog': True}"
                                    />
                                </group>
                            </page>
                            <page name="page_map_config" string="Mapa"
                                  attrs="{'invisible':[('chart_type','!=','map')]}">
                                <group string="Configuración del mapa">
                                    <field name="geo_map_file_id"/>

                                </group>
                            </page>
                            <page name="page_appearance" string="Estilo">
                                <group>
                                    <field name="palette_id"/>
                                    <field name="bar_orientation"
                                           attrs="{'invisible':[('chart_type','not in',('bar',))]}"/>
                                    <field name="stacked"
                                           attrs="{'invisible':[('chart_type','not in',('bar',))]}"
                                           widget="boolean_toggle"/>
                                    <field name="legend_position" widget="radio"/>
                                    <field name="set_icon"/>
                                    <field name="icon"
                                           widget="iboard_icon"
                                           attrs="{'invisible':[('set_icon','=',False)]}"
                                    />
                                    <field name="title_design"
                                           attrs="{'invisible':[('chart_type','!=','title')]}"
                                    />
                                </group>
                                <group>

                                    <field name="config"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="iboard_chart_action" model="ir.actions.act_window">
            <field name="name">Indicadores</field>
            <field name="res_model">iboard.chart</field>
            <field name="view_mode">tree,form</field>
        </record>

    </data>
</odoo>